<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>CoffeeDate - Tanulj Kávésan!</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>CoffeeDate - Tanulj Kávésan!</h1>

    <div class="counter">
        <h2>Tanulással eltöltött idő:</h2>
        <div class="counternumber" id="counter" style="background-color:#87551D; color:#44270D">00:00:00</div>
        <h3>A tanulás alatt ennyi pénzt szereztél:</h3>
        <div class="counternumber" id="message">0 Ft</div><br>
        <div>
            <button class="counterbutton" id="startStopBtn">Indítás</button>
            <button class="counterbutton" id="resetBtn">Visszaállítás</button>
        </div>

        <script>
            let count = 0;
            let totalFt = 0;
            let timer = null;

            const counter = document.getElementById("counter");
            const message = document.getElementById("message");
            const startStopBtn = document.getElementById("startStopBtn");
            const resetBtn = document.getElementById("resetBtn");

            function formatTime(seconds) {
                let hrs = Math.floor(seconds / 3600);
                let mins = Math.floor((seconds % 3600) / 60);
                let secs = seconds % 60;

                hrs = String(hrs).padStart(2, '0');
                mins = String(mins).padStart(2, '0');
                secs = String(secs).padStart(2, '0');

                return `${hrs}:${mins}:${secs}`;
            }

            startStopBtn.addEventListener("click", () => {
                if (timer === null) {
                    // indítás
                    timer = setInterval(() => {
                        count++;
                        counter.textContent = formatTime(count);

                        if (count % 60 === 0) {
                            totalFt += 10;
                            message.textContent = `${totalFt} Ft`;
                        }
                    }, 1000);
                    startStopBtn.textContent = "Megállítás";
                    counter.style.color = "#87551D";
                    counter.style.background= "#C3A87F";
                } else {
                    // megállítás
                    clearInterval(timer);
                    timer = null;
                    startStopBtn.textContent = "Indítás";
                    counter.style.color = "#44270D";
                    counter.style.background= "#87551D";
                }
            });

            resetBtn.addEventListener("click", () => {
                clearInterval(timer);
                timer = null;
                count = 0;
                counter.textContent = "00:00:00";
                startStopBtn.textContent = "Indítás";
                counter.style.color = "#44270D";
                counter.style.background= "#87551D";
            });
        </script>
    </div>

    <div class="stage_right" id="stage">
        <img src="../doc/ui/coffee_placeholder.png" id="coffee" class="coffee" alt="Kávé NPC">
        <script src="kavezo.js"></script>
    </div>

    <div class="menu_right">
        <div class="menubutton" id="fiokBtn">Fiók</div>
        <div class="menubutton" id="tanulasBtn">Tanulás</div>
    </div>
    <script>
        // gombok
        document.getElementById('fiokBtn').onclick = () => alert('Fiók megnyitása (helyőrző)');
        document.getElementById('tanulasBtn').onclick = () => alert('Tanulás oldal (helyőrző)');
    </script>
</body>
</html>
