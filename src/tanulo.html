<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>CoffeeDate - Tanulj Kávésan!</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>CoffeeDate - Tanulj Kávésan!</h1>
    <h3 id="cafename">név (kód), szak hallgató kávézója</h3>

    <div class="sidemenu">
        <h2>Tanulással eltöltött idő:</h2>
        <div class="counternumber" id="counter" style="background-color:#87551D; color:#44270D">00:00:00</div>
        <h3 style="color: #87551D">A tanulás alatt ennyi pénzt szereztél:</h3>
        <div class="counternumber" id="message">0 Ft</div><br>
        <div>
            <button class="counterbutton" id="startStopBtn">Indítás</button>
            <button class="counterbutton" id="resetBtn">Visszaállítás</button>
        </div>

        <script>
            let count = 0;
            let totalFt = 0;
            let timer = null;

            const counter = document.getElementById("counter");
            const message = document.getElementById("message");
            const startStopBtn = document.getElementById("startStopBtn");
            const resetBtn = document.getElementById("resetBtn");

            function formatTime(seconds) {
                let hrs = Math.floor(seconds / 3600);
                let mins = Math.floor((seconds % 3600) / 60);
                let secs = seconds % 60;

                hrs = String(hrs).padStart(2, '0');
                mins = String(mins).padStart(2, '0');
                secs = String(secs).padStart(2, '0');

                return `${hrs}:${mins}:${secs}`;
            }

            startStopBtn.addEventListener("click", () => {
                if (timer === null) {
                    // indítás
                    timer = setInterval(() => {
                        count++;
                        counter.textContent = formatTime(count);

                        if (count % 60 === 0) {
                            totalFt += 10;
                            message.textContent = `${totalFt} Ft`;
                        }
                    }, 1000);
                    startStopBtn.textContent = "Megállítás";
                    counter.style.color = "#87551D";
                    counter.style.background= "#C3A87F";
                } else {
                    // megállítás
                    clearInterval(timer);
                    timer = null;
                    startStopBtn.textContent = "Indítás";
                    counter.style.color = "#44270D";
                    counter.style.background= "#87551D";
                }
            });

            resetBtn.addEventListener("click", () => {
                clearInterval(timer);
                timer = null;
                count = 0;
                counter.textContent = "00:00:00";
                startStopBtn.textContent = "Indítás";
                counter.style.color = "#44270D";
                counter.style.background= "#87551D";
            });
        </script>
    </div>

    <div class="stage_right" id="stage">
        <img src="../doc/ui/coffee.png" id="drink" class="drink" alt="Kávé NPC" style="height:180;width:120">
        <script src="kavezo.js"></script>
    </div>

    <div class="menu_right">
        <div class="menubutton" id="profile" style="background-image:url('../doc/ui/button_profile.png')"></div>
        <div class="menubutton" id="cafe"  style="background-image:url('../doc/ui/button_cafe.png')"></div>
    </div>

    <script src="adatbetolt.js"></script>
    <script>
        document.getElementById('profile').onclick = () => window.open('fiok.html', '_self');
        document.getElementById('cafe').onclick = () => window.open('kavezo.html', '_self');
    </script>

    <h6>Készítette: Juhász Benedek (W2GZ9C), Moldván Gréta (AO5J4G), Szendrei Cintia Rita (E3KS5H)</h6>
</body>
</html>
